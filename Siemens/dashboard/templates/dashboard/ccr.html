{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CCR</title>
    <link rel="stylesheet" href="{% static 'dashboard/css/ccr.css' %}?{% now "U" %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>


</head>
<style>
    body{
        background-image: url("{% static 'dashboard/img/Background.jpg' %}");
        background-repeat: no-repeat;
        background-size: cover;
        
    }

</style>


<body>
    <dialog id="loading">
        <div class="multi-spinner-container">
            <div class="multi-spinner">
                <div class="multi-spinner">
                    <div class="multi-spinner">
                       <div class="multi-spinner">
                            <div class="multi-spinner">
                                <div class="multi-spinner"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </dialog>

    <dialog id="popupFormContainer">
          <span class="close">&times;</span>
          <form id="popupForm">

            <div class="form-row">

                <div class="input-data">
                <input type="text" id="systemSerialNumber" name="systemSerialNumber" required>
                <div class="underline"></div>
                <label for="systemSerialNumber">System Serial Number:</label>
                </div>

                <div class="input-data">
                <input type="text" id="systemMaterialNumber" name="systemMaterialNumber" required>
                <div class="underline"></div>
                <label for="systemMaterialNumber">System Material Number:</label>
                </div>

            </div>

            <div class="form-row">

                <div class="input-data">
            <input type="text" id="productName" name="productName" required>
            <div class="underline"></div>
            <label for="productName">Product Name:</label>
                </div>

                <div class="input-data">
                    
                    <input type="text" id="endCustomer" name="endCustomer" required>
                      <div class="underline"></div>
                          <label for="endCustomer">End Customer:</label>
                                  </div>
                
            </div>

            <div class="form-row">
                <div class="input-data">
                <input type="date" id="handoverDate" name="handoverDate" required>
                <label for="handoverDate">Handover Date:</label> 
                </div>

                <div class="input-data">
            <input type="date" id="contractStartDate" name="contractStartDate" required>
            <label for="contractStartDate">Contract Start Date:</label>
                </div>
            </div>


            <div class="form-row">
            <div class="input-data">
                <input type="date" id="contractEndDate" name="contractEndDate" required>
                <label for="contractEndDate">Contract End Date:</label>
                </div>
                <div class="input-data">
                    <input type="date" id="deliveryDate" name="deliveryDate" required>
                <label for="deliveryDate">Delivery Date:</label>
                    </div>

            </div>
                <div class="form-row">
                    <div class="input-data">
      <input type="text" id="eos" name="eos" required>
        <div class="underline"></div>
            <label for="eos">EOS:</label>
            </div>
            
            <div class="input-data">
      <input type="text" id="eod" name="eod" required>
      <div class="underline"></div>
            <label for="eod">EOD:</label>
                    </div>
                </div>
                    <div class="form-row">
                        <div class="input-data">
                            <input type="text" id="contractNumber" name="contractNumber" required>
                            <div class="underline"></div>
                    <label for="contractNumber">Contract Number:</label>
                        </div>

                    <div class="input-data">
      <input type="text" id="city" name="city" required>
      <div class="underline"></div>
            <label for="city">City:</label>
                    </div>
                </div>  

            <div class="form-row">
                <div class="input-data">    
            
       <input type="text" id="country" name="country" required>
        <div class="underline"></div>
            <label for="country">Country:</label>
                </div>

                <div class="input-data">           
      <input type="text" id="modality" name="modality" required>
        <div class="underline"></div>
            <label for="modality">Modality:</label>
                </div>
            </div>
            
            <div class="form-row" style="position:relative;">
            

            <div class ="selectboxCont" {% if  partenariat != 'all' %}style="display:none;" {% endif %}>
            <label for="servicePartnerId">Service Partner Name:</label>
            <select id="servicePartnerId" >
                <option value="910163">IGE-Tn</option>
                <option value="910167">IGE-Int</option>
                <option value="910165">medimage</option>
                <option value="910191">Tecnimed</option>
                <option value="910192">Elsmed</option>
                <option value="910183">naroge</option>
                <option value="910187">EMS</option>
                <option value="none" style="display:none;" selected>chose partner</option>
              </select>
            </div>

            <input id="submit-popupForm"  type="button" value="Submit">
        </div>
          </form>
      </dialog>    

	<div class="container">
		<div class="left-container"> 
			<div class="filters-container">
				
                <div class="service-partner-cn" {% if  partenariat != 'all' %} style="display:none;" {% endif %}> 
                    <div><h3 style="display:inline; color: #086d6d;">Service partner</h3><button class="erase-btn" name="service-partner" ><i class="fa-solid fa-eraser"></i></button></div>
                    <label><input type="radio" class="square-radio" name="service-partner" value="910163"><span>910163</span></label>
                    <label><input type="radio" class="square-radio" name="service-partner" value="910165"><span>910165</span></label>
                    <label><input type="radio" class="square-radio" name="service-partner" value="910167"><span>910167</span></label>
                    <label><input type="radio" class="square-radio" name="service-partner" value="910183"><span>910183</span></label>
                    <label><input type="radio" class="square-radio" name="service-partner" value="910187"><span>910187</span></label>
                    <label><input type="radio" class="square-radio" name="service-partner" value="910191"><span>910191</span></label>
                    <label><input type="radio" class="square-radio" name="service-partner" value="910192"><span>910192</span></label>

                </div>
                
				<div class="modality-cn" {% if partenariat != 'all' %} style="grid-area: 1/1/3/2; margin-top:10px;" {% else %} style="grid-area: 2 / 1 / 3 / 2;" {% endif %}>
                    <div><h3 style="display:inline;  color: #086d6d;background-color:transparent;">Modality</h3><button class="erase-btn" name="modality" ><i class="fa-solid fa-eraser"></i></button></div>
                    <label><input type="radio" class="square-radio" name="modality" value="AXA"><span>AXA</span></label>
                    <label><input type="radio" class="square-radio" name="modality" value="CT"><span>CT</span></label>
                    <label><input type="radio" class="square-radio" name="modality" value="D&A"><span>D&A</span></label>
                    <label><input type="radio" class="square-radio" name="modality" value="MI"><span>MI</span></label>
                    <label><input type="radio" class="square-radio" name="modality" value="MR"><span>MR</span></label>
                    <label><input type="radio" class="square-radio" name="modality" value="US"><span>US</span></label>
                    <label><input type="radio" class="square-radio" name="modality" value="XP"><span>XP</span></label>
  
                </div>
				<div class="country-cn">
                    <div style="background-color: transparent;">
                        <h3  style="display:inline; color: #086d6d;">Country</h3><button class="erase-btn" name="country" ><i class="fa-solid fa-eraser"></i></button></div>
                    <label><input type="radio" class="square-radio" name="country" value="AO"><span>AO</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="BF"><span>BF</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="BI"><span>BI</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="BJ"><span>BJ</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="CD"><span>CD</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="CF"><span>CF</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="CG"><span>CG</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="CI"><span>CI</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="CM"><span>CM</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="GA"><span>GA</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="GM"><span>GM</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="GN"><span>GN</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="AQ"><span>AQ</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="LR"><span>LR</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="ML"><span>ML</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="MR"><span>MR</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="NE"><span>NE</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="RW"><span>RW</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="SL"><span>SL</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="SN"><span>SN</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="TD"><span>TD</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="TG"><span>TG</span></label>
                    <label><input type="radio" class="square-radio" name="country" value="TN"><span>TN</span></label>
                   
                </div>
			</div>
		</div>
		<div class="right-container"> 
			<div class="data-container">
				<div class="title-cn"> 
                    <img class="logo" src="{% static "users/img/Siemens_Healthineers_logo.png" %}"  alt="Logo">
                    <h1>CCR</h1>
                    <button id="openFormBtn">Add contract</button>
                </div>
				<div class="counts-cn">
                    <div class="card card1">
                        <p class="card-values" id="nb_contracts">397</p>
                        <p class="card-title">Nb of Contrat</p>
                    </div>
                    <div class="card card2">
                        <p class="card-values" id="active_systems">2043</p>
                        <p class="card-title">Active Systems</p>
                    </div>
                    <div class="card card3">
                        <p class="card-values" id="ccr_percent">17%</p>
                        <p class="card-title">CCR</p>
                    </div>
                </div>
				<div class="search-cn"> 
                        <h3>Serial number</h3>
                  <div>
                    <input  type="text" class="search-input" placeholder="Search with serial number">
                    <button  type="button" class="search-btn" >  <i class="fa fa-search"></i></button>
                </div>
                </div>
				<div class="table-cn"> 
                    <div class="missing-countries-table-container">
                    <table class ="ms-countries-table" style="display:block">
                        <thead>
                            <tr>
                                <th class="ms-countries-table-header">Service Partner</th>
                                <th class="ms-countries-table-header">Service Partner Id </th>
                                <th class="ms-countries-table-header">System Material Number</th>
                                <th class="ms-countries-table-header">System Serial Number</th>
                                <th class="ms-countries-table-header">Country</th>
                                <th class="ms-countries-table-header">Modality</th>
                                <th class="ms-countries-table-header">Product Name</th>
                                <th class="ms-countries-table-header">Delivery Code</th>
                                <th class="ms-countries-table-header">Contract Start Date</th>
                                <th class="ms-countries-table-header">Contract End Date </th>
                                <th class="ms-countries-table-header">End Customer</th>
                            </tr>
                            <tr>

                            </tr>
                        </thead>
                        <tbody Id="table-tbody"   class="ms-countries-table-body">
                            
                        </tbody>

                    </table>
                </div>
                </div>
			</div>
		</div>
	</div>


</body>
 <script>
    loading.showModal()
</script> 

     {% csrf_token %} 
    <script>
        let update_ccr_data_url = "{% url 'dashboard:update_ccr_data' %}"
        let add_ccr_data_url = "{% url 'dashboard:add_ccr_data' %}"
        let partenariat = "{{ partenariat }}"
    </script>
    <script src="{% static 'dashboard/js/ccr.js' %}"></script>
</html>
